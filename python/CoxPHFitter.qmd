---
Python Cox method in lifelines library
---

# Import the CoxPHFitter from lifelines and pandas library
from lifelines import CoxPHFitter
import pandas as pd

## Data used
## Creat the dataframe and printing the top rows from data source
df = pd.read_sas('whas500.sas7bdat')
df.head()

## Example Code
## Choose the right columns for analysis
df = df[["LENFOL", "AFB", "FSTAT"]]

## Change follow-up days to years for better visualization
df['LENFOL'] = df['LENFOL']/365.25
df['LENFOL'] = df['LENFOL'].round(decimals = 2)

## Visual the top rows in dataframe 
df.head()

## Check the number of observations in dataframe
df.shape

## Cox PH model
cph = CoxPHFitter(penalizer=0.1)

## Fit the model 
cph.fit(df, duration_col='LENFOL', event_col='FSTAT', formula='AFB', show_progress=True)

## Print the results
cph.print_summary()

