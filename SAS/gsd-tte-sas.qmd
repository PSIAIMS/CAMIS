---
title: "Group Sequential Design in Survival Endpoints Using SAS"
author: "Chi-Rong Li"
format: html
editor: visual
date: last-modified
date-format: D MMMM, YYYY
---

# Introduction

PROC SEQDESIGN^1^ can be used for sample size calculations for group sequential design (GSD). SAS provides a [flowchart](https://documentation.sas.com/api/docsets/statug/15.4/content/images/seqchart.png)^2^ which summarizes the steps in a typical group sequential trial and the relevant SAS procedures. Here we focus on a GSD applied for time-to-event endpoints.

# **Log-Rank Test for Two Survival Distributions**

This example illustrates sample size computation for survival data with the same setting in another [R example](https://psiaims.github.io/CAMIS/R/gsd-tte.html):

A GSD will be utilized for progression-free survival (PFS). PFS will be tested at one interim analysis (IA) at 75% information fraction for both efficacy and non-binding futility. A Lan-DeMets O'Brien-Fleming-tpye (LD-OBF) spending function will be used for efficacy testing, and a Hwang-Shih-Decani (HSD) spending function (as known as gamma cumulative spending function) with $\gamma = -10$ will be used for futility. In the GSD, $\alpha$ is one-sided at 0.025, $\beta$ is 0.05, the accrual period is 24 months, and the follow-up period is 10 months. As described in the [R example](https://psiaims.github.io/CAMIS/R/gsd-tte.html), the dropout rates are 0.2 by month 12 for the both group; that is, the dropout times follow the exponential distribution with the parameter $\lambda = -\ln(1-0.2)/12 = 0.0185953$.

The SAS code is shown below:

```{sas}
#| eval: false
PROC SEQDESIGN;
   DESIGN NSTAGES=2 
          INFO=CUM(0.75 1.0) 
          ALT=UPPER 
          ALPHA=0.0125 
          BETA=0.05
          METHOD(ALPHA)=ERRFUNCOBF 
          METHOD(BETA)=ERRFUNCGAMMA(GAMMA=-10)  
          STOP=BOTH(BETABOUNDARY=NONBINDING);
   SAMPLESIZE MODEL=TWOSAMPLESURVIVAL(
          NULLMEDSURVTIME=9.4
          HAZARDRATIO=0.6
          ACCTIME=24 
          FOLTIME=10
          LOSS=EXP(HAZARD=0.0185953)
          WEIGHT=1);
RUN;

```

As shown below, a total sample size of 398 is recommended, which equates to 199 in each group.

```{r}
#| echo: false
#| fig-align: center
#| out-width: 50%
knitr::include_graphics(
  "../images/gsd-tte/result-pfs-sas.png"
)

```

### References

1.  [The SEQDESIGN procedure: SAS® 9.4 and SAS® Viya® 3.5 Programming Documentation](https://documentation.sas.com/doc/en/pgmsascdc/9.4_3.5/statug/statug_seqdesign_toc.htm)
2.  [Overview: SEQDESIGN Procedure](https://documentation.sas.com/doc/en/pgmsascdc/9.4_3.5/statug/statug_seqdesign_overview.htm)
