<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>R vs EAST Group sequential design</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../images/logo.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-ebfcb0ed0ac0539375ffcf22e0e9fa78.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="../site_libs/tabwid-1.1.3/tabwid.css" rel="stylesheet">
<script src="../site_libs/tabwid-1.1.3/tabwid.js"></script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../images/logo.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../contribution/contribution.html"> 
<span class="menu-text">Contribute</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-publications-and-projects" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Publications and projects</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-publications-and-projects">    
        <li>
    <a class="dropdown-item" href="../publication/white_paper.html">
 <span class="dropdown-text">White paper</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../publication/conference.html">
 <span class="dropdown-text">Conferences</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../publication/dissertation.html">
 <span class="dropdown-text">Academic projects</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-news" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">News</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-news">    
        <li>
    <a class="dropdown-item" href="../minutes/index.html">
 <span class="dropdown-text">Meeting minutes</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../blogs/index.html">
 <span class="dropdown-text">Blogs</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/PSIAIMS/CAMIS/">
            Source Code
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/PSIAIMS/CAMIS/issues/">
            Report a Difference
            </a>
          </li>
      </ul>
    </div>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#design-example" id="toc-design-example" class="nav-link" data-scroll-target="#design-example">Design example</a></li>
  <li><a href="#code-to-reproduce-east-results" id="toc-code-to-reproduce-east-results" class="nav-link" data-scroll-target="#code-to-reproduce-east-results">Code to reproduce EAST results</a>
  <ul class="collapse">
  <li><a href="#gsdesign-code" id="toc-gsdesign-code" class="nav-link" data-scroll-target="#gsdesign-code">gsDesign code</a></li>
  <li><a href="#gsdesign2-code" id="toc-gsdesign2-code" class="nav-link" data-scroll-target="#gsdesign2-code">gsDesign2 code</a></li>
  <li><a href="#rpact-code" id="toc-rpact-code" class="nav-link" data-scroll-target="#rpact-code">rpact code</a></li>
  </ul></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">R vs EAST Group sequential design</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>In this vignette, we briefly compare sample size/power calculations for a group sequential design (GSD) for time to event endpoints between EAST and <a href="https://keaven.github.io/gsDesign/">gsDesign</a>, <a href="https://merck.github.io/gsDesign2/">gsDesign2</a>, and <a href="https://www.rpact.org/">rpact</a>. Note that, a comparison between rpact and gsDesign has been previously reported <a href="https://www.rpact.org/vignettes/planning/rpact_vs_gsdesign_examples/#comparison-analysis-time-of-rpact-vs.-gsdesign">here</a>.</p>
<p>There are two main methods that are generally used for GSD sample-size/power calculations for time to event endpoints under proportional hazard assumption:</p>
<ul>
<li>Lachin &amp; Foulkes (LF) Method (1986)</li>
<li>Kim &amp; Tsiatis (KT) Method (1990)</li>
</ul>
<p>The main difference between the two methods is that LF method requires specification of accrual duration as well as study duration, while KT method calculates study duration iteratively given accrual rates and accrual duration. In general, these two methods produce similar, but not identical results.</p>
<p>Both LF and KT methods are implemented in gsDesign, while KT method is implemented in EAST and rpact. gsDesign2 uses a modification of the LF method while applying an average hazard ratio (AHR) approach for non-proportional hazards (Schemper, Wakounig, and Heinze, 2009, Yung and Liu 2020). gsDesign2 also enables use of the sample size method of Yung and Liu (2020).</p>
<p>One additional computational difference to note for EAST vs gsDesign/gsDesign2 is the usage of different log hazard ratio variance assumptions. By default, EAST uses the variance under the null hypothesis and provides an option for using the variance under the alternative hypothesis. gsDesign, on the other hand, is using both of these variances as suggested by Lachin and Foulkes (1986). gsDesign2 has <code>info_scale</code> argument in <code>gsDesign2::gs_power_ahr()</code>, <code>gsDesign2::gs_design_ahr()</code>, which could be set to variance under the null or alternative hypothesis or to the combination of variances.</p>
<p>Below we provide an example of reproducing EAST results from <a href="https://psiaims.github.io/CAMIS/East/gsd-tte.html">this vignette</a> using gsDesign/gsDesign2/rpact. As shown in the example, gsDesign2 and rpact can reproduce EAST calculations for GSD boundaries, while gsDesign results have minor differences. gsDesign has an option under development to support a complete concordance with EAST.</p>
</section>
<section id="design-example" class="level2">
<h2 class="anchored" data-anchor-id="design-example">Design example</h2>
<p>We assume that a GSD is utilized for progression-free survival (PFS) endpoint. It will be tested at one interim analysis (IA) for both efficacy and non-binding futility and then at final analysis (FA). O’Brien-Fleming spending function will be used for efficacy testing and Hwang-Shih-DeCani spending function with <span class="math inline">\(\gamma = -10\)</span> will be used for futility.</p>
<p>Further design assumptions are as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># PFS HR=0.6</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>hr1_pfs <span class="ot">&lt;-</span> <span class="fl">0.6</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># median PFS of 9.4 months in the control arm</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>med_pfs <span class="ot">&lt;-</span> <span class="fl">9.4</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># minimum follow-up of 10 months for PFS</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>minfu_pfs <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Monthly exponential dropout of 0.019  for PFS</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>do_rate_pfs <span class="ot">&lt;-</span> <span class="fl">0.019</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># IA timing for PFS is at approximately 75% information fraction, and is derived </span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># using the number of events that was calculated by EAST which sets integer event counts to approximate targeted information</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>timing_pfs_rpact <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">176</span><span class="sc">/</span><span class="dv">235</span>, <span class="dv">1</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>timing_pfs_gs <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.75</span>, <span class="dv">1</span>)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co"># power of approximately 95% for PFS, EAST reported power will be used</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>power_pfs <span class="ot">&lt;-</span> <span class="fl">0.9505021</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Enrollment period of 24 months</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>enroll_dur <span class="ot">&lt;-</span> <span class="dv">24</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="co"># 1:1 randomization ratio</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>rand_ratio <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="co"># alpha level of 1.25%</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>alphal <span class="ot">&lt;-</span> <span class="fl">0.0125</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We assume that EAST was initially used to calculate the target number of events and the total sample size, and we will use gsDesign/gsDesign2/rpact to reproduce those.</p>
<p>Note that, in EAST the number of target events is reported as an integer, however, gsDesign/gsDesign2/rpact by default provide non-integer values which match <em>exactly</em> the specified information fraction. Both gsDesign/gsDesign2 can facilitate computations using integer number of events with <code>gsDesign::toInteger()</code> and <code>gsDesign2::to_integer()</code> as shown below. In order to reproduce EAST results with rpact, we will use the number of events that was calculated in EAST for <code>informationRates</code> argument in <code>rpact::getDesignGroupSequential()</code>: 176 and 235 PFS events for IA and FA respectively (please see the <code>timing_pfs_rpact</code> object in the code above).</p>
<p>For ease of comparison the results from EAST are summarized below:</p>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-8b1523f0{}.cl-8b0bb4d2{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-8b0fbb7c{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-8b0fbb9a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-8b0fdd3c{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b0fdd46{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b0fdd50{width:1.361in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b0fdd5a{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b0fdd5b{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b0fdd64{width:1.361in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b0fdd65{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b0fdd6e{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b0fdd78{width:1.361in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b0fdd79{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b0fdd82{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b0fdd83{width:1.361in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b0fdd84{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b0fdd8c{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b0fdd8d{width:1.361in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b0fdd96{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b0fdd97{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b0fdd98{width:1.361in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b0fdda0{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b0fdda1{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b0fddaa{width:1.361in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-8b1523f0"><thead><tr style="overflow-wrap:break-word;"><th class="cl-8b0fdd3c"><p class="cl-8b0fbb7c"><span class="cl-8b0bb4d2">Analysis</span></p></th><th class="cl-8b0fdd46"><p class="cl-8b0fbb7c"><span class="cl-8b0bb4d2">Value</span></p></th><th class="cl-8b0fdd50"><p class="cl-8b0fbb9a"><span class="cl-8b0bb4d2">Efficacy</span></p></th><th class="cl-8b0fdd50"><p class="cl-8b0fbb9a"><span class="cl-8b0bb4d2">Futility</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-8b0fdd5a"><p class="cl-8b0fbb7c"><span class="cl-8b0bb4d2">IA1: 75%</span></p></td><td class="cl-8b0fdd5b"><p class="cl-8b0fbb7c"><span class="cl-8b0bb4d2">Z</span></p></td><td class="cl-8b0fdd64"><p class="cl-8b0fbb9a"><span class="cl-8b0bb4d2">-2.6606</span></p></td><td class="cl-8b0fdd64"><p class="cl-8b0fbb9a"><span class="cl-8b0bb4d2">-0.7379</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8b0fdd65"><p class="cl-8b0fbb7c"><span class="cl-8b0bb4d2">N=398</span></p></td><td class="cl-8b0fdd6e"><p class="cl-8b0fbb7c"><span class="cl-8b0bb4d2">p (1-sided)</span></p></td><td class="cl-8b0fdd78"><p class="cl-8b0fbb9a"><span class="cl-8b0bb4d2">0.0039</span></p></td><td class="cl-8b0fdd78"><p class="cl-8b0fbb9a"><span class="cl-8b0bb4d2">0.2303</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8b0fdd79"><p class="cl-8b0fbb7c"><span class="cl-8b0bb4d2">Events: 176</span></p></td><td class="cl-8b0fdd82"><p class="cl-8b0fbb7c"><span class="cl-8b0bb4d2">HR at bound</span></p></td><td class="cl-8b0fdd83"><p class="cl-8b0fbb9a"><span class="cl-8b0bb4d2">0.6696</span></p></td><td class="cl-8b0fdd83"><p class="cl-8b0fbb9a"><span class="cl-8b0bb4d2">0.8947</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8b0fdd84"><p class="cl-8b0fbb7c"><span class="cl-8b0bb4d2">Month: 25</span></p></td><td class="cl-8b0fdd8c"><p class="cl-8b0fbb7c"><span class="cl-8b0bb4d2">P(Cross) if HR=1</span></p></td><td class="cl-8b0fdd8d"><p class="cl-8b0fbb9a"><span class="cl-8b0bb4d2">0.0039</span></p></td><td class="cl-8b0fdd8d"><p class="cl-8b0fbb9a"><span class="cl-8b0bb4d2">0.7697</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8b0fdd96"><p class="cl-8b0fbb7c"><span class="cl-8b0bb4d2"></span></p></td><td class="cl-8b0fdd97"><p class="cl-8b0fbb7c"><span class="cl-8b0bb4d2">P(Cross) if HR=0.60</span></p></td><td class="cl-8b0fdd98"><p class="cl-8b0fbb9a"><span class="cl-8b0bb4d2">0.7666</span></p></td><td class="cl-8b0fdd98"><p class="cl-8b0fbb9a"><span class="cl-8b0bb4d2">0.0040</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8b0fdda0"><p class="cl-8b0fbb7c"><span class="cl-8b0bb4d2">FA</span></p></td><td class="cl-8b0fdda1"><p class="cl-8b0fbb7c"><span class="cl-8b0bb4d2">Z</span></p></td><td class="cl-8b0fddaa"><p class="cl-8b0fbb9a"><span class="cl-8b0bb4d2">-2.2798</span></p></td><td class="cl-8b0fddaa"><p class="cl-8b0fbb9a"><span class="cl-8b0bb4d2"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8b0fdd65"><p class="cl-8b0fbb7c"><span class="cl-8b0bb4d2">N=398</span></p></td><td class="cl-8b0fdd6e"><p class="cl-8b0fbb7c"><span class="cl-8b0bb4d2">p (1-sided)</span></p></td><td class="cl-8b0fdd78"><p class="cl-8b0fbb9a"><span class="cl-8b0bb4d2">0.0113</span></p></td><td class="cl-8b0fdd78"><p class="cl-8b0fbb9a"><span class="cl-8b0bb4d2"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8b0fdd79"><p class="cl-8b0fbb7c"><span class="cl-8b0bb4d2">Events: 235</span></p></td><td class="cl-8b0fdd82"><p class="cl-8b0fbb7c"><span class="cl-8b0bb4d2">HR at bound</span></p></td><td class="cl-8b0fdd83"><p class="cl-8b0fbb9a"><span class="cl-8b0bb4d2">0.7427</span></p></td><td class="cl-8b0fdd83"><p class="cl-8b0fbb9a"><span class="cl-8b0bb4d2"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8b0fdd84"><p class="cl-8b0fbb7c"><span class="cl-8b0bb4d2">Month: 34</span></p></td><td class="cl-8b0fdd8c"><p class="cl-8b0fbb7c"><span class="cl-8b0bb4d2">P(Cross) if HR=1</span></p></td><td class="cl-8b0fdd8d"><p class="cl-8b0fbb9a"><span class="cl-8b0bb4d2">0.0125</span></p></td><td class="cl-8b0fdd8d"><p class="cl-8b0fbb9a"><span class="cl-8b0bb4d2"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8b0fdd96"><p class="cl-8b0fbb7c"><span class="cl-8b0bb4d2"></span></p></td><td class="cl-8b0fdd97"><p class="cl-8b0fbb7c"><span class="cl-8b0bb4d2">P(Cross) if HR=0.60</span></p></td><td class="cl-8b0fdd98"><p class="cl-8b0fbb9a"><span class="cl-8b0bb4d2">0.9505</span></p></td><td class="cl-8b0fdd98"><p class="cl-8b0fbb9a"><span class="cl-8b0bb4d2"></span></p></td></tr></tbody></table></div>
</div>
</div>
<ul>
<li>The comparison between EAST and gsDesign/gsDesign/rpact results is presented below using absolute difference in efficacy/futility boundaries and crossing probabilities up to 4 decimals. Non-zero values are highlighted.</li>
<li>Note that, in gsDesign/gsDesign Efficacy/Futility bounds refer to upper/lower bounds respectively, while in EAST these refer to the opposite directions, i.e., lower/upper bounds respectively. For the comparison purposes, we will assume that Efficacy/Futility bounds refer to upper/lower bounds respectively.</li>
</ul>
</section>
<section id="code-to-reproduce-east-results" class="level2">
<h2 class="anchored" data-anchor-id="code-to-reproduce-east-results">Code to reproduce EAST results</h2>
<section id="gsdesign-code" class="level3">
<h3 class="anchored" data-anchor-id="gsdesign-code">gsDesign code</h3>
<ul>
<li>gsDesign code to reproduce the above EAST results:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gsDesign)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>pfs_gsDesign <span class="ot">&lt;-</span> <span class="fu">gsSurv</span>(</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">k =</span> <span class="fu">length</span>(timing_pfs_gs),</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">timing =</span> timing_pfs_gs, </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">R =</span> enroll_dur, </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">eta =</span>  do_rate_pfs, </span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">minfup =</span> minfu_pfs,</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">T =</span> enroll_dur <span class="sc">+</span> minfu_pfs, </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">lambdaC =</span> <span class="fu">log</span>(<span class="dv">2</span>)<span class="sc">/</span>med_pfs,</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">hr =</span> hr1_pfs,</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">beta =</span> <span class="dv">1</span> <span class="sc">-</span> power_pfs,</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">alpha =</span> alphal,</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">sfu =</span> sfLDOF,</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">sfl =</span> sfHSD, </span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">sflpar =</span> <span class="sc">-</span><span class="dv">10</span>,</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">test.type =</span> <span class="dv">4</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">toInteger</span>()</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>pfs_gsDesign <span class="sc">|&gt;</span> <span class="fu">gsBoundSummary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Analysis              Value Efficacy Futility
   IA 1: 75%                  Z   2.6606   0.7422
      N: 400        p (1-sided)   0.0039   0.2290
 Events: 176       ~HR at bound   0.6696   0.8941
   Month: 25   P(Cross) if HR=1   0.0039   0.7710
             P(Cross) if HR=0.6   0.7679   0.0040
       Final                  Z   2.2798   2.2798
      N: 400        p (1-sided)   0.0113   0.0113
 Events: 235       ~HR at bound   0.7427   0.7427
   Month: 34   P(Cross) if HR=1   0.0125   0.9875
             P(Cross) if HR=0.6   0.9510   0.0490</code></pre>
</div>
</div>
<ul>
<li>gsDesign vs EAST comparison using absolute differences:</li>
</ul>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Warning in raw_block(x, "html", ...): raw_block() requires Pandoc &gt;= 2.0.0</code></pre>
</div>
<div class="cell-output-display">
<div class="tabwid"><style>.cl-8b8128de{}.cl-8b79ada2{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-8b7c85c2{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-8b7c85d6{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-8b7ca228{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca232{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca23c{width:1.695in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca23d{width:1.6in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca246{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca250{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca251{width:1.695in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca25a{width:1.6in;background-color:rgba(110, 206, 178, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca25b{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca264{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca26e{width:1.695in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca26f{width:1.6in;background-color:rgba(110, 206, 178, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca278{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca279{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca282{width:1.695in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca283{width:1.6in;background-color:rgba(110, 206, 178, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca28c{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca28d{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca28e{width:1.695in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca296{width:1.6in;background-color:rgba(110, 206, 178, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca2a0{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca2a1{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca2aa{width:1.695in;background-color:rgba(110, 206, 178, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca2ab{width:1.6in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca2ac{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca2b4{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca2b5{width:1.695in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca2be{width:1.6in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca2c8{width:1.6in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca2c9{width:1.6in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8b7ca2ca{width:1.6in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-8b8128de"><thead><tr style="overflow-wrap:break-word;"><th class="cl-8b7ca228"><p class="cl-8b7c85c2"><span class="cl-8b79ada2">Analysis</span></p></th><th class="cl-8b7ca232"><p class="cl-8b7c85c2"><span class="cl-8b79ada2">Value</span></p></th><th class="cl-8b7ca23c"><p class="cl-8b7c85d6"><span class="cl-8b79ada2">Efficacy</span></p></th><th class="cl-8b7ca23d"><p class="cl-8b7c85d6"><span class="cl-8b79ada2">Futility</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-8b7ca246"><p class="cl-8b7c85c2"><span class="cl-8b79ada2">IA1: 75%</span></p></td><td class="cl-8b7ca250"><p class="cl-8b7c85c2"><span class="cl-8b79ada2">Z</span></p></td><td class="cl-8b7ca251"><p class="cl-8b7c85d6"><span class="cl-8b79ada2">0.0000</span></p></td><td class="cl-8b7ca25a"><p class="cl-8b7c85d6"><span class="cl-8b79ada2">0.0043</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8b7ca25b"><p class="cl-8b7c85c2"><span class="cl-8b79ada2">N=398</span></p></td><td class="cl-8b7ca264"><p class="cl-8b7c85c2"><span class="cl-8b79ada2">p (1-sided)</span></p></td><td class="cl-8b7ca26e"><p class="cl-8b7c85d6"><span class="cl-8b79ada2">0.0000</span></p></td><td class="cl-8b7ca26f"><p class="cl-8b7c85d6"><span class="cl-8b79ada2">0.0013</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8b7ca278"><p class="cl-8b7c85c2"><span class="cl-8b79ada2">Events: 176</span></p></td><td class="cl-8b7ca279"><p class="cl-8b7c85c2"><span class="cl-8b79ada2">HR at bound</span></p></td><td class="cl-8b7ca282"><p class="cl-8b7c85d6"><span class="cl-8b79ada2">0.0000</span></p></td><td class="cl-8b7ca283"><p class="cl-8b7c85d6"><span class="cl-8b79ada2">0.0006</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8b7ca28c"><p class="cl-8b7c85c2"><span class="cl-8b79ada2">Month: 25</span></p></td><td class="cl-8b7ca28d"><p class="cl-8b7c85c2"><span class="cl-8b79ada2">P(Cross) if HR=1</span></p></td><td class="cl-8b7ca28e"><p class="cl-8b7c85d6"><span class="cl-8b79ada2">0.0000</span></p></td><td class="cl-8b7ca296"><p class="cl-8b7c85d6"><span class="cl-8b79ada2">0.0013</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8b7ca2a0"><p class="cl-8b7c85c2"><span class="cl-8b79ada2"></span></p></td><td class="cl-8b7ca2a1"><p class="cl-8b7c85c2"><span class="cl-8b79ada2">P(Cross) if HR=0.60</span></p></td><td class="cl-8b7ca2aa"><p class="cl-8b7c85d6"><span class="cl-8b79ada2">0.0013</span></p></td><td class="cl-8b7ca2ab"><p class="cl-8b7c85d6"><span class="cl-8b79ada2">0.0000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8b7ca2ac"><p class="cl-8b7c85c2"><span class="cl-8b79ada2">FA</span></p></td><td class="cl-8b7ca2b4"><p class="cl-8b7c85c2"><span class="cl-8b79ada2">Z</span></p></td><td class="cl-8b7ca2b5"><p class="cl-8b7c85d6"><span class="cl-8b79ada2">0.0000</span></p></td><td class="cl-8b7ca2be"><p class="cl-8b7c85d6"><span class="cl-8b79ada2"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8b7ca25b"><p class="cl-8b7c85c2"><span class="cl-8b79ada2">N=398</span></p></td><td class="cl-8b7ca264"><p class="cl-8b7c85c2"><span class="cl-8b79ada2">p (1-sided)</span></p></td><td class="cl-8b7ca26e"><p class="cl-8b7c85d6"><span class="cl-8b79ada2">0.0000</span></p></td><td class="cl-8b7ca2c8"><p class="cl-8b7c85d6"><span class="cl-8b79ada2"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8b7ca278"><p class="cl-8b7c85c2"><span class="cl-8b79ada2">Events: 235</span></p></td><td class="cl-8b7ca279"><p class="cl-8b7c85c2"><span class="cl-8b79ada2">HR at bound</span></p></td><td class="cl-8b7ca282"><p class="cl-8b7c85d6"><span class="cl-8b79ada2">0.0000</span></p></td><td class="cl-8b7ca2c9"><p class="cl-8b7c85d6"><span class="cl-8b79ada2"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8b7ca28c"><p class="cl-8b7c85c2"><span class="cl-8b79ada2">Month: 34</span></p></td><td class="cl-8b7ca28d"><p class="cl-8b7c85c2"><span class="cl-8b79ada2">P(Cross) if HR=1</span></p></td><td class="cl-8b7ca28e"><p class="cl-8b7c85d6"><span class="cl-8b79ada2">0.0000</span></p></td><td class="cl-8b7ca2ca"><p class="cl-8b7c85d6"><span class="cl-8b79ada2"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8b7ca2a0"><p class="cl-8b7c85c2"><span class="cl-8b79ada2"></span></p></td><td class="cl-8b7ca2a1"><p class="cl-8b7c85c2"><span class="cl-8b79ada2">P(Cross) if HR=0.60</span></p></td><td class="cl-8b7ca2aa"><p class="cl-8b7c85d6"><span class="cl-8b79ada2">0.0005</span></p></td><td class="cl-8b7ca2ab"><p class="cl-8b7c85d6"><span class="cl-8b79ada2"></span></p></td></tr></tbody></table></div>
</div>
</div>
</section>
<section id="gsdesign2-code" class="level3">
<h3 class="anchored" data-anchor-id="gsdesign2-code">gsDesign2 code</h3>
<ul>
<li>gsDesign2 code to reproduce the above EAST results appears below.</li>
<li>Note that, here <code>gsDesign2::gs_power_ahr()</code> is used given the number of target events for each analysis based on EAST results.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gsDesign2)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>enroll_rate <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">stratum =</span> <span class="st">"All"</span>, </span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">duration =</span> enroll_dur,</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">rate =</span> <span class="dv">398</span><span class="sc">/</span>enroll_dur</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>fail_rate_pfs <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">stratum =</span> <span class="st">"All"</span>, </span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">duration =</span> <span class="cn">Inf</span>, <span class="co">#could be set to Inf when proportional hazard is assumed</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">fail_rate =</span> <span class="fu">log</span>(<span class="dv">2</span>)<span class="sc">/</span>med_pfs,</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">hr =</span> hr1_pfs, </span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">dropout_rate =</span> do_rate_pfs</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>pfs_gsDesign2 <span class="ot">&lt;-</span> <span class="fu">gs_power_ahr</span>(</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">enroll_rate =</span> enroll_rate,</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">fail_rate =</span> fail_rate_pfs,</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">ratio =</span> rand_ratio, </span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">event =</span> <span class="fu">c</span>(<span class="dv">176</span>, <span class="dv">235</span>),</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">upper =</span> gs_spending_bound, </span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">upar =</span> <span class="fu">list</span>(</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf =</span> gsDesign<span class="sc">::</span>sfLDOF, </span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_spend =</span> alphal</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>    ), </span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">lower =</span> gs_spending_bound,</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">lpar =</span> <span class="fu">list</span>(</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">sf =</span> gsDesign<span class="sc">::</span>sfHSD, </span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_spend =</span> <span class="dv">1</span> <span class="sc">-</span> power_pfs, </span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">param =</span> <span class="sc">-</span><span class="dv">10</span></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">info_scale =</span> <span class="st">"h0_info"</span></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">to_integer</span>()</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>pfs_gsDesign2 <span class="sc">|&gt;</span></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>() <span class="sc">|&gt;</span></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>  gsDesign2<span class="sc">::</span><span class="fu">as_gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="rcuopczqla" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#rcuopczqla table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#rcuopczqla thead, #rcuopczqla tbody, #rcuopczqla tfoot, #rcuopczqla tr, #rcuopczqla td, #rcuopczqla th {
  border-style: none;
}

#rcuopczqla p {
  margin: 0;
  padding: 0;
}

#rcuopczqla .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#rcuopczqla .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#rcuopczqla .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#rcuopczqla .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#rcuopczqla .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rcuopczqla .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rcuopczqla .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rcuopczqla .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#rcuopczqla .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#rcuopczqla .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#rcuopczqla .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#rcuopczqla .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#rcuopczqla .gt_spanner_row {
  border-bottom-style: hidden;
}

#rcuopczqla .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#rcuopczqla .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#rcuopczqla .gt_from_md > :first-child {
  margin-top: 0;
}

#rcuopczqla .gt_from_md > :last-child {
  margin-bottom: 0;
}

#rcuopczqla .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#rcuopczqla .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#rcuopczqla .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#rcuopczqla .gt_row_group_first td {
  border-top-width: 2px;
}

#rcuopczqla .gt_row_group_first th {
  border-top-width: 2px;
}

#rcuopczqla .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rcuopczqla .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#rcuopczqla .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#rcuopczqla .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rcuopczqla .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rcuopczqla .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#rcuopczqla .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#rcuopczqla .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#rcuopczqla .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rcuopczqla .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rcuopczqla .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#rcuopczqla .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rcuopczqla .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#rcuopczqla .gt_left {
  text-align: left;
}

#rcuopczqla .gt_center {
  text-align: center;
}

#rcuopczqla .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#rcuopczqla .gt_font_normal {
  font-weight: normal;
}

#rcuopczqla .gt_font_bold {
  font-weight: bold;
}

#rcuopczqla .gt_font_italic {
  font-style: italic;
}

#rcuopczqla .gt_super {
  font-size: 65%;
}

#rcuopczqla .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#rcuopczqla .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#rcuopczqla .gt_indent_1 {
  text-indent: 5px;
}

#rcuopczqla .gt_indent_2 {
  text-indent: 10px;
}

#rcuopczqla .gt_indent_3 {
  text-indent: 15px;
}

#rcuopczqla .gt_indent_4 {
  text-indent: 20px;
}

#rcuopczqla .gt_indent_5 {
  text-indent: 25px;
}

#rcuopczqla .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#rcuopczqla div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<colgroup>
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="gt_heading header">
<th colspan="6" class="gt_heading gt_title gt_font_normal">Bound summary for AHR design</th>
</tr>
<tr class="gt_heading even">
<th colspan="6" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border">AHR approximations of ~HR at bound</th>
</tr>
<tr class="gt_col_headings gt_spanner_row header">
<th rowspan="2" id="Bound" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Bound</th>
<th rowspan="2" id="Z" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Z</th>
<th rowspan="2" id="Nominal-p" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Nominal p<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th rowspan="2" id="a~HR-at-bound" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">~HR at bound<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>2</sup></span></th>
<th colspan="2" id="Cumulative boundary crossing probability" class="gt_center gt_columns_top_border gt_column_spanner_outer" data-quarto-table-cell-role="th" scope="colgroup"><div class="gt_column_spanner">
Cumulative boundary crossing probability
</div></th>
</tr>
<tr class="gt_col_headings even">
<th id="Alternate-hypothesis" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Alternate hypothesis</th>
<th id="Null-hypothesis" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Null hypothesis</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row odd">
<td colspan="6" id="Analysis: 1 Time: 25.4 N: 398 Events: 176 AHR: 0.6 Information fraction: 0.75" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Analysis: 1 Time: 25.4 N: 398 Events: 176 AHR: 0.6 Information fraction: 0.75</td>
</tr>
<tr class="gt_row_group_first even">
<td class="gt_row gt_left" headers="Analysis: 1 Time: 25.4 N: 398 Events: 176 AHR: 0.6 Information fraction: 0.75  Bound">Futility</td>
<td class="gt_row gt_right" headers="Analysis: 1 Time: 25.4 N: 398 Events: 176 AHR: 0.6 Information fraction: 0.75  Z">0.74</td>
<td class="gt_row gt_right" headers="Analysis: 1 Time: 25.4 N: 398 Events: 176 AHR: 0.6 Information fraction: 0.75  Nominal p">0.2303</td>
<td class="gt_row gt_right" headers="Analysis: 1 Time: 25.4 N: 398 Events: 176 AHR: 0.6 Information fraction: 0.75  ~HR at bound">0.8947</td>
<td class="gt_row gt_right" headers="Analysis: 1 Time: 25.4 N: 398 Events: 176 AHR: 0.6 Information fraction: 0.75  Alternate hypothesis">0.0040</td>
<td class="gt_row gt_right" headers="Analysis: 1 Time: 25.4 N: 398 Events: 176 AHR: 0.6 Information fraction: 0.75  Null hypothesis">0.7697</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Analysis: 1 Time: 25.4 N: 398 Events: 176 AHR: 0.6 Information fraction: 0.75  Bound">Efficacy</td>
<td class="gt_row gt_right" headers="Analysis: 1 Time: 25.4 N: 398 Events: 176 AHR: 0.6 Information fraction: 0.75  Z">2.66</td>
<td class="gt_row gt_right" headers="Analysis: 1 Time: 25.4 N: 398 Events: 176 AHR: 0.6 Information fraction: 0.75  Nominal p">0.0039</td>
<td class="gt_row gt_right" headers="Analysis: 1 Time: 25.4 N: 398 Events: 176 AHR: 0.6 Information fraction: 0.75  ~HR at bound">0.6696</td>
<td class="gt_row gt_right" headers="Analysis: 1 Time: 25.4 N: 398 Events: 176 AHR: 0.6 Information fraction: 0.75  Alternate hypothesis">0.7666</td>
<td class="gt_row gt_right" headers="Analysis: 1 Time: 25.4 N: 398 Events: 176 AHR: 0.6 Information fraction: 0.75  Null hypothesis">0.0039</td>
</tr>
<tr class="gt_group_heading_row even">
<td colspan="6" id="Analysis: 2 Time: 34.1 N: 398 Events: 235 AHR: 0.6 Information fraction: 1" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Analysis: 2 Time: 34.1 N: 398 Events: 235 AHR: 0.6 Information fraction: 1</td>
</tr>
<tr class="gt_row_group_first odd">
<td class="gt_row gt_left" headers="Analysis: 2 Time: 34.1 N: 398 Events: 235 AHR: 0.6 Information fraction: 1  Bound">Futility</td>
<td class="gt_row gt_right" headers="Analysis: 2 Time: 34.1 N: 398 Events: 235 AHR: 0.6 Information fraction: 1  Z">2.28</td>
<td class="gt_row gt_right" headers="Analysis: 2 Time: 34.1 N: 398 Events: 235 AHR: 0.6 Information fraction: 1  Nominal p">0.0113</td>
<td class="gt_row gt_right" headers="Analysis: 2 Time: 34.1 N: 398 Events: 235 AHR: 0.6 Information fraction: 1  ~HR at bound">0.7427</td>
<td class="gt_row gt_right" headers="Analysis: 2 Time: 34.1 N: 398 Events: 235 AHR: 0.6 Information fraction: 1  Alternate hypothesis">0.0495</td>
<td class="gt_row gt_right" headers="Analysis: 2 Time: 34.1 N: 398 Events: 235 AHR: 0.6 Information fraction: 1  Null hypothesis">0.9875</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Analysis: 2 Time: 34.1 N: 398 Events: 235 AHR: 0.6 Information fraction: 1  Bound">Efficacy</td>
<td class="gt_row gt_right" headers="Analysis: 2 Time: 34.1 N: 398 Events: 235 AHR: 0.6 Information fraction: 1  Z">2.28</td>
<td class="gt_row gt_right" headers="Analysis: 2 Time: 34.1 N: 398 Events: 235 AHR: 0.6 Information fraction: 1  Nominal p">0.0113</td>
<td class="gt_row gt_right" headers="Analysis: 2 Time: 34.1 N: 398 Events: 235 AHR: 0.6 Information fraction: 1  ~HR at bound">0.7427</td>
<td class="gt_row gt_right" headers="Analysis: 2 Time: 34.1 N: 398 Events: 235 AHR: 0.6 Information fraction: 1  Alternate hypothesis">0.9505</td>
<td class="gt_row gt_right" headers="Analysis: 2 Time: 34.1 N: 398 Events: 235 AHR: 0.6 Information fraction: 1  Null hypothesis">0.0125</td>
</tr>
</tbody><tfoot class="gt_footnotes">
<tr class="odd">
<td colspan="6" class="gt_footnote"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span> One-sided p-value for experimental vs control treatment. Value &lt; 0.5 favors experimental, &gt; 0.5 favors control.</td>
</tr>
<tr class="even">
<td colspan="6" class="gt_footnote"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>2</sup></span> Approximate hazard ratio to cross bound.</td>
</tr>
</tfoot>

</table>

</div>
</div>
</div>
<ul>
<li>gsDesign2 vs EAST comparison using absolute differences:</li>
</ul>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Warning in raw_block(x, "html", ...): raw_block() requires Pandoc &gt;= 2.0.0</code></pre>
</div>
<div class="cell-output-display">
<div class="tabwid"><style>.cl-8d3338fc{}.cl-8d2b7392{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-8d2e1ec6{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-8d2e1ed0{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-8d2e3d66{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3d7a{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3d84{width:1.986in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3d8e{width:1.792in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3d8f{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3d90{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3d98{width:1.986in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3d99{width:1.792in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3da2{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3da3{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3dac{width:1.986in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3db6{width:1.792in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3db7{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3dca{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3dcb{width:1.986in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3dcc{width:1.792in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3dd4{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3dde{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3ddf{width:1.986in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3de8{width:1.792in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3df2{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3df3{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3dfc{width:1.986in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3dfd{width:1.792in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3e06{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3e07{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3e08{width:1.986in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d2e3e09{width:1.792in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-8d3338fc"><thead><tr style="overflow-wrap:break-word;"><th class="cl-8d2e3d66"><p class="cl-8d2e1ec6"><span class="cl-8d2b7392">Analysis</span></p></th><th class="cl-8d2e3d7a"><p class="cl-8d2e1ec6"><span class="cl-8d2b7392">Value</span></p></th><th class="cl-8d2e3d84"><p class="cl-8d2e1ed0"><span class="cl-8d2b7392">Efficacy</span></p></th><th class="cl-8d2e3d8e"><p class="cl-8d2e1ed0"><span class="cl-8d2b7392">Futility</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-8d2e3d8f"><p class="cl-8d2e1ec6"><span class="cl-8d2b7392">IA1: 75%</span></p></td><td class="cl-8d2e3d90"><p class="cl-8d2e1ec6"><span class="cl-8d2b7392">Z</span></p></td><td class="cl-8d2e3d98"><p class="cl-8d2e1ed0"><span class="cl-8d2b7392">0.0000</span></p></td><td class="cl-8d2e3d99"><p class="cl-8d2e1ed0"><span class="cl-8d2b7392">0.0000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8d2e3da2"><p class="cl-8d2e1ec6"><span class="cl-8d2b7392">N=398</span></p></td><td class="cl-8d2e3da3"><p class="cl-8d2e1ec6"><span class="cl-8d2b7392">p (1-sided)</span></p></td><td class="cl-8d2e3dac"><p class="cl-8d2e1ed0"><span class="cl-8d2b7392">0.0000</span></p></td><td class="cl-8d2e3db6"><p class="cl-8d2e1ed0"><span class="cl-8d2b7392">0.0000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8d2e3db7"><p class="cl-8d2e1ec6"><span class="cl-8d2b7392">Events: 176</span></p></td><td class="cl-8d2e3dca"><p class="cl-8d2e1ec6"><span class="cl-8d2b7392">HR at bound</span></p></td><td class="cl-8d2e3dcb"><p class="cl-8d2e1ed0"><span class="cl-8d2b7392">0.0000</span></p></td><td class="cl-8d2e3dcc"><p class="cl-8d2e1ed0"><span class="cl-8d2b7392">0.0000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8d2e3dd4"><p class="cl-8d2e1ec6"><span class="cl-8d2b7392">Month: 25</span></p></td><td class="cl-8d2e3dde"><p class="cl-8d2e1ec6"><span class="cl-8d2b7392">P(Cross) if HR=1</span></p></td><td class="cl-8d2e3ddf"><p class="cl-8d2e1ed0"><span class="cl-8d2b7392">0.0000</span></p></td><td class="cl-8d2e3de8"><p class="cl-8d2e1ed0"><span class="cl-8d2b7392">0.0000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8d2e3df2"><p class="cl-8d2e1ec6"><span class="cl-8d2b7392"></span></p></td><td class="cl-8d2e3df3"><p class="cl-8d2e1ec6"><span class="cl-8d2b7392">P(Cross) if HR=0.60</span></p></td><td class="cl-8d2e3dfc"><p class="cl-8d2e1ed0"><span class="cl-8d2b7392">0.0000</span></p></td><td class="cl-8d2e3dfd"><p class="cl-8d2e1ed0"><span class="cl-8d2b7392">0.0000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8d2e3e06"><p class="cl-8d2e1ec6"><span class="cl-8d2b7392">FA</span></p></td><td class="cl-8d2e3e07"><p class="cl-8d2e1ec6"><span class="cl-8d2b7392">Z</span></p></td><td class="cl-8d2e3e08"><p class="cl-8d2e1ed0"><span class="cl-8d2b7392">0.0000</span></p></td><td class="cl-8d2e3e09"><p class="cl-8d2e1ed0"><span class="cl-8d2b7392"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8d2e3da2"><p class="cl-8d2e1ec6"><span class="cl-8d2b7392">N=398</span></p></td><td class="cl-8d2e3da3"><p class="cl-8d2e1ec6"><span class="cl-8d2b7392">p (1-sided)</span></p></td><td class="cl-8d2e3dac"><p class="cl-8d2e1ed0"><span class="cl-8d2b7392">0.0000</span></p></td><td class="cl-8d2e3db6"><p class="cl-8d2e1ed0"><span class="cl-8d2b7392"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8d2e3db7"><p class="cl-8d2e1ec6"><span class="cl-8d2b7392">Events: 235</span></p></td><td class="cl-8d2e3dca"><p class="cl-8d2e1ec6"><span class="cl-8d2b7392">HR at bound</span></p></td><td class="cl-8d2e3dcb"><p class="cl-8d2e1ed0"><span class="cl-8d2b7392">0.0000</span></p></td><td class="cl-8d2e3dcc"><p class="cl-8d2e1ed0"><span class="cl-8d2b7392"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8d2e3dd4"><p class="cl-8d2e1ec6"><span class="cl-8d2b7392">Month: 34</span></p></td><td class="cl-8d2e3dde"><p class="cl-8d2e1ec6"><span class="cl-8d2b7392">P(Cross) if HR=1</span></p></td><td class="cl-8d2e3ddf"><p class="cl-8d2e1ed0"><span class="cl-8d2b7392">0.0000</span></p></td><td class="cl-8d2e3de8"><p class="cl-8d2e1ed0"><span class="cl-8d2b7392"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8d2e3df2"><p class="cl-8d2e1ec6"><span class="cl-8d2b7392"></span></p></td><td class="cl-8d2e3df3"><p class="cl-8d2e1ec6"><span class="cl-8d2b7392">P(Cross) if HR=0.60</span></p></td><td class="cl-8d2e3dfc"><p class="cl-8d2e1ed0"><span class="cl-8d2b7392">0.0000</span></p></td><td class="cl-8d2e3dfd"><p class="cl-8d2e1ed0"><span class="cl-8d2b7392"></span></p></td></tr></tbody></table></div>
</div>
</div>
</section>
<section id="rpact-code" class="level3">
<h3 class="anchored" data-anchor-id="rpact-code">rpact code</h3>
<ul>
<li>rpact code to reproduce the above EAST results appears below.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rpact)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>pfs_rpact_gsd <span class="ot">&lt;-</span> <span class="fu">getDesignGroupSequential</span>(</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">sided =</span> <span class="dv">1</span>, </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">alpha =</span> alphal,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">informationRates =</span> timing_pfs_rpact,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">typeOfDesign =</span> <span class="st">"asOF"</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">beta =</span> <span class="dv">1</span> <span class="sc">-</span> power_pfs,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">typeBetaSpending =</span> <span class="st">"bsHSD"</span>,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">gammaB =</span> <span class="sc">-</span><span class="dv">10</span>,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">bindingFutility =</span> <span class="cn">FALSE</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>pfs_rpact <span class="ot">&lt;-</span> <span class="fu">getSampleSizeSurvival</span>(</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">design =</span> pfs_rpact_gsd,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">accrualTime =</span> enroll_dur,</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">followUpTime =</span> minfu_pfs,</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">lambda2 =</span> <span class="fu">log</span>(<span class="dv">2</span>)<span class="sc">/</span>med_pfs,</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">hazardRatio =</span> hr1_pfs,</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">dropoutRate1 =</span> <span class="fl">0.2</span>, </span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">dropoutRate2 =</span> <span class="fl">0.2</span>, </span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">dropoutTime =</span> <span class="dv">12</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">summary</span>(pfs_rpact))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><em>Sample size calculation for a survival endpoint</em></p>
<p>Sequential analysis with a maximum of 2 looks (group sequential design), one-sided overall significance level 1.25%, power 95.1%. The results were calculated for a two-sample logrank test, H0: hazard ratio = 1, H1: hazard ratio = 0.6, control lambda(2) = 0.074, accrual time = 24, accrual intensity = 16.6, follow-up time = 10, dropout rate(1) = 0.2, dropout rate(2) = 0.2, dropout time = 12.</p>
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th>Stage</th>
<th>1</th>
<th>2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Planned information rate</td>
<td>74.9%</td>
<td>100%</td>
</tr>
<tr class="even">
<td>Cumulative alpha spent</td>
<td>0.0039</td>
<td>0.0125</td>
</tr>
<tr class="odd">
<td>Cumulative beta spent</td>
<td>0.0040</td>
<td>0.0495</td>
</tr>
<tr class="even">
<td>Stage levels (one-sided)</td>
<td>0.0039</td>
<td>0.0113</td>
</tr>
<tr class="odd">
<td>Efficacy boundary (z-value scale)</td>
<td>2.661</td>
<td>2.280</td>
</tr>
<tr class="even">
<td>Futility boundary (z-value scale)</td>
<td>0.738</td>
<td></td>
</tr>
<tr class="odd">
<td>Efficacy boundary (t)</td>
<td>0.670</td>
<td>0.743</td>
</tr>
<tr class="even">
<td>Futility boundary (t)</td>
<td>0.895</td>
<td></td>
</tr>
<tr class="odd">
<td>Cumulative power</td>
<td>0.7666</td>
<td>0.9505</td>
</tr>
<tr class="even">
<td>Number of subjects</td>
<td>397.9</td>
<td>397.9</td>
</tr>
<tr class="odd">
<td>Expected number of subjects under H1</td>
<td></td>
<td>397.9</td>
</tr>
<tr class="even">
<td>Cumulative number of events</td>
<td>176.0</td>
<td>235.0</td>
</tr>
<tr class="odd">
<td>Expected number of events under H1</td>
<td>189.5</td>
<td></td>
</tr>
<tr class="even">
<td>Analysis time</td>
<td>25.34</td>
<td>34.00</td>
</tr>
<tr class="odd">
<td>Expected study duration under H1</td>
<td></td>
<td>27.32</td>
</tr>
<tr class="even">
<td>Overall exit probability (under H0)</td>
<td>0.7736</td>
<td></td>
</tr>
<tr class="odd">
<td>Overall exit probability (under H1)</td>
<td>0.7707</td>
<td></td>
</tr>
<tr class="even">
<td>Exit probability for efficacy (under H0)</td>
<td>0.0039</td>
<td></td>
</tr>
<tr class="odd">
<td>Exit probability for efficacy (under H1)</td>
<td>0.7666</td>
<td></td>
</tr>
<tr class="even">
<td>Exit probability for futility (under H0)</td>
<td>0.7697</td>
<td></td>
</tr>
<tr class="odd">
<td>Exit probability for futility (under H1)</td>
<td>0.0040</td>
<td></td>
</tr>
</tbody>
</table>
<p>Legend:</p>
<ul>
<li><em>(t)</em>: treatment effect scale</li>
</ul>
</div>
</div>
<ul>
<li>rpact vs EAST comparison using absolute differences:</li>
</ul>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Warning in raw_block(x, "html", ...): raw_block() requires Pandoc &gt;= 2.0.0</code></pre>
</div>
<div class="cell-output-display">
<div class="tabwid"><style>.cl-8da1710a{}.cl-8d9ad98a{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-8d9d8932{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-8d9d8946{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-8d9da5ac{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da5b6{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da5b7{width:2.181in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da5c0{width:1.792in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da5c1{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da5ca{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da5cb{width:2.181in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da5d4{width:1.792in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da5d5{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da5de{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da5e8{width:2.181in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da5e9{width:1.792in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da5ea{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da5f2{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da5f3{width:2.181in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da606{width:1.792in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da607{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da608{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da610{width:2.181in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da611{width:1.792in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da612{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da61a{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da61b{width:2.181in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da624{width:1.792in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da62e{width:1.194in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da62f{width:1.801in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da638{width:2.181in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8d9da642{width:1.792in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-8da1710a"><thead><tr style="overflow-wrap:break-word;"><th class="cl-8d9da5ac"><p class="cl-8d9d8932"><span class="cl-8d9ad98a">Analysis</span></p></th><th class="cl-8d9da5b6"><p class="cl-8d9d8932"><span class="cl-8d9ad98a">Value</span></p></th><th class="cl-8d9da5b7"><p class="cl-8d9d8946"><span class="cl-8d9ad98a">Efficacy</span></p></th><th class="cl-8d9da5c0"><p class="cl-8d9d8946"><span class="cl-8d9ad98a">Futility</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-8d9da5c1"><p class="cl-8d9d8932"><span class="cl-8d9ad98a">IA1: 75%</span></p></td><td class="cl-8d9da5ca"><p class="cl-8d9d8932"><span class="cl-8d9ad98a">Z</span></p></td><td class="cl-8d9da5cb"><p class="cl-8d9d8946"><span class="cl-8d9ad98a">0.0000</span></p></td><td class="cl-8d9da5d4"><p class="cl-8d9d8946"><span class="cl-8d9ad98a">0.0000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8d9da5d5"><p class="cl-8d9d8932"><span class="cl-8d9ad98a">N=398</span></p></td><td class="cl-8d9da5de"><p class="cl-8d9d8932"><span class="cl-8d9ad98a">p (1-sided)</span></p></td><td class="cl-8d9da5e8"><p class="cl-8d9d8946"><span class="cl-8d9ad98a">0.0000</span></p></td><td class="cl-8d9da5e9"><p class="cl-8d9d8946"><span class="cl-8d9ad98a">0.0000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8d9da5ea"><p class="cl-8d9d8932"><span class="cl-8d9ad98a">Events: 176</span></p></td><td class="cl-8d9da5f2"><p class="cl-8d9d8932"><span class="cl-8d9ad98a">HR at bound</span></p></td><td class="cl-8d9da5f3"><p class="cl-8d9d8946"><span class="cl-8d9ad98a">0.0000</span></p></td><td class="cl-8d9da606"><p class="cl-8d9d8946"><span class="cl-8d9ad98a">0.0000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8d9da607"><p class="cl-8d9d8932"><span class="cl-8d9ad98a">Month: 25</span></p></td><td class="cl-8d9da608"><p class="cl-8d9d8932"><span class="cl-8d9ad98a">P(Cross) if HR=1</span></p></td><td class="cl-8d9da610"><p class="cl-8d9d8946"><span class="cl-8d9ad98a">0.0000</span></p></td><td class="cl-8d9da611"><p class="cl-8d9d8946"><span class="cl-8d9ad98a">0.0000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8d9da612"><p class="cl-8d9d8932"><span class="cl-8d9ad98a"></span></p></td><td class="cl-8d9da61a"><p class="cl-8d9d8932"><span class="cl-8d9ad98a">P(Cross) if HR=0.60</span></p></td><td class="cl-8d9da61b"><p class="cl-8d9d8946"><span class="cl-8d9ad98a">0.0000</span></p></td><td class="cl-8d9da624"><p class="cl-8d9d8946"><span class="cl-8d9ad98a">0.0000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8d9da62e"><p class="cl-8d9d8932"><span class="cl-8d9ad98a">FA</span></p></td><td class="cl-8d9da62f"><p class="cl-8d9d8932"><span class="cl-8d9ad98a">Z</span></p></td><td class="cl-8d9da638"><p class="cl-8d9d8946"><span class="cl-8d9ad98a">0.0000</span></p></td><td class="cl-8d9da642"><p class="cl-8d9d8946"><span class="cl-8d9ad98a"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8d9da5d5"><p class="cl-8d9d8932"><span class="cl-8d9ad98a">N=398</span></p></td><td class="cl-8d9da5de"><p class="cl-8d9d8932"><span class="cl-8d9ad98a">p (1-sided)</span></p></td><td class="cl-8d9da5e8"><p class="cl-8d9d8946"><span class="cl-8d9ad98a">0.0000</span></p></td><td class="cl-8d9da5e9"><p class="cl-8d9d8946"><span class="cl-8d9ad98a"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8d9da5ea"><p class="cl-8d9d8932"><span class="cl-8d9ad98a">Events: 235</span></p></td><td class="cl-8d9da5f2"><p class="cl-8d9d8932"><span class="cl-8d9ad98a">HR at bound</span></p></td><td class="cl-8d9da5f3"><p class="cl-8d9d8946"><span class="cl-8d9ad98a">0.0000</span></p></td><td class="cl-8d9da606"><p class="cl-8d9d8946"><span class="cl-8d9ad98a"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8d9da607"><p class="cl-8d9d8932"><span class="cl-8d9ad98a">Month: 34</span></p></td><td class="cl-8d9da608"><p class="cl-8d9d8932"><span class="cl-8d9ad98a">P(Cross) if HR=1</span></p></td><td class="cl-8d9da610"><p class="cl-8d9d8946"><span class="cl-8d9ad98a">0.0000</span></p></td><td class="cl-8d9da611"><p class="cl-8d9d8946"><span class="cl-8d9ad98a"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-8d9da612"><p class="cl-8d9d8932"><span class="cl-8d9ad98a"></span></p></td><td class="cl-8d9da61a"><p class="cl-8d9d8932"><span class="cl-8d9ad98a">P(Cross) if HR=0.60</span></p></td><td class="cl-8d9da61b"><p class="cl-8d9d8946"><span class="cl-8d9ad98a">0.0000</span></p></td><td class="cl-8d9da624"><p class="cl-8d9d8946"><span class="cl-8d9ad98a"></span></p></td></tr></tbody></table></div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.4.3 (2025-02-28)
Platform: x86_64-pc-linux-gnu
Running under: Ubuntu 24.04.2 LTS

Matrix products: default
BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 
LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0

locale:
 [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       
 [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   
 [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          
[10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   

time zone: Europe/London
tzcode source: system (glibc)

attached base packages:
[1] stats     graphics  grDevices datasets  utils     methods   base     

other attached packages:
[1] rpact_4.1.0     tibble_3.2.1    gsDesign2_1.1.3 gsDesign_3.6.5 
[5] flextable_0.9.7

loaded via a namespace (and not attached):
 [1] gt_0.11.1               sass_0.4.9              utf8_1.2.4             
 [4] generics_0.1.3          tidyr_1.3.1             fontLiberation_0.1.0   
 [7] renv_1.0.10             xml2_1.3.6              r2rtf_1.1.1            
[10] digest_0.6.37           magrittr_2.0.3          evaluate_1.0.0         
[13] grid_4.4.3              fastmap_1.2.0           jsonlite_1.8.9         
[16] zip_2.3.1               purrr_1.0.2             fansi_1.0.6            
[19] scales_1.3.0            fontBitstreamVera_0.1.1 textshaping_0.4.0      
[22] cli_3.6.3               rlang_1.1.4             fontquiver_0.2.1       
[25] munsell_0.5.1           withr_3.0.1             yaml_2.3.10            
[28] gdtools_0.4.1           tools_4.4.3             officer_0.6.7          
[31] uuid_1.2-1              dplyr_1.1.4             colorspace_2.1-1       
[34] ggplot2_3.5.1           vctrs_0.6.5             R6_2.5.1               
[37] lifecycle_1.0.4         htmlwidgets_1.6.4       ragg_1.3.3             
[40] pkgconfig_2.0.3         pillar_1.9.0            gtable_0.3.5           
[43] data.table_1.16.0       glue_1.8.0              Rcpp_1.0.13            
[46] systemfonts_1.1.0       xfun_0.48               tidyselect_1.2.1       
[49] knitr_1.48              xtable_1.8-4            htmltools_0.5.8.1      
[52] rmarkdown_2.28          compiler_4.4.3          askpass_1.2.1          
[55] openssl_2.2.2          </code></pre>
</div>
</div>
</section>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li>Lachin JM and Foulkes M. Evaluation of sample size and power for analyses of survival with allowance for nonuniform patient entry, losses to follow-up, non-compliance, and stratification. Biometrics 1986;42:507-19.</li>
<li>Kim K and Tsiatis AA. Study duration for clinical trials with survival response and early stopping rule. Biometrics 1990(46): 81-92.</li>
<li>Schemper M, Wakounig S and Heinze G. The estimation of average hazard ratios by weighted cox regression. Statistics in Medicine 2009; 28(19): 2473-2489.</li>
<li>Yung G and Liu Y. Sample size and power for the weighted log-rank test and Kaplan-Meier based tests with allowance for nonproportional hazards. Biometrics 2020;76:939-50.</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>