{
  "hash": "0e09fad2bdb53a5ccca65e42251efa16",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Sample Size for Superiority Trials in SAS\"\noutput: html_document\ndate: last-modified\ndate-format: D MMMM, YYYY\n---\n\n\n\nSAS has 2 procedures for doing Sample size. A basic summary is provided here based on Jenny Cody's paper^1^ , but see the paper itself for more details. There are also many available options to best to consult SAS online support for [PROC POWER](PROC%20POWER:%20Simple%20AB/BA%20Crossover%20Designs%20::%20SAS/STAT(R)%209.3%20User's%20Guide)^2^ and [PROC GLMPOWER](https://support.sas.com/documentation/cdl/en/statug/63347/HTML/default/viewer.htm#statug_glmpower_a0000000154.htm)^3^.\n\nPROC POWER is used for sample size calculations for tests such as:\n\n-   t tests, equivalence tests, and confidence intervals for means,\n\n-   tests, equivalence tests, and confidence intervals for binomial proportions,\n\n-   multiple regression,\n\n-   tests of correlation and partial correlation,\n\n-   one-way analysis of variance,\n\n-   rank tests for comparing two survival curves,\n\n-   logistic regression with binary response,\n\n-   Wilcoxon-Mann-Whitney (rank-sum) test (SAS, 2010).\n\nPROC GLMPOWER is used for sample size calculations for more complex linear models, and cover Type III tests and contrasts of fixed effects in univariate linear models with or without covariates. (SAS, 2011).\n\n### **Comparing means for parallel design (unpaired)**\n\nIn the most common scenario SDs are assumed known and the same in both treatment groups. Otherwise Student t distribution is used instead of the normal distribution. SAS follows the Satterthwaite method.\n\n#### Example: Sample size for comparison of 2 independant treatment group means with same known SDs\n\nA client is interested in conducting a clinical trial to compare two cholesterol lowering agents for treatment of hypercholesterolemic patients. The primary efficacy parameter is a low-density lipidprotein cholesterol (LDL-C). Suppose that a difference of 8% in the percent change of LDL-C is considered a clinically meaningful difference and that the standard deviation is assumed to be 15%. What sample size is required for a two-sided false positive rate of 5% and a power of 80%?\n\nThe code below estimates the sample size in SAS. NOTE: you can either specify the MEANDIFF=8 or if you know the separate group means X and Y, you can use GROUPMEANS =X\\|Y code instead. SAS also assume a default alpha level of 0.05, a 1:1 balanced randomization and a Normal distribution.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nPROC POWER  ;\n TWOSAMPLEMEANS TEST=DIFF\n MEANDIFF=8\n STDDEV=15\n NTOTAL=.\n POWER=0.8\n ;\nRUN;\n```\n:::\n\n\n\nAs shown below, a total sample size of 114 is recommended, which equates to 57 in each group.\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](../images/sample_s_superiority/SAS2sampmeans.png){fig-align='center' width=50%}\n:::\n:::\n\n\n\n### **Comparing means for crossover design (paired)**\n\nIt is important to differentiate here between the within patient SD and the SD of the difference. We may need to recalculate one to the other, depending on the case.\n\nVariance of the difference = 2x Variance within patient. Vardiff=2∗Varpatient\n\n#### Example\n\nWe wish to run an AB/BA single dose crossover to compare two brochodilators. The primary outcome is peak expiratory flow, and a clinically relevant difference of 30 l/min is sought with 80% power, the significance level is 5% and the best estimate of the within patient standard deviation is 32 l/min. What size of trial do we require? (After recalculating: 32∗2=45 and assuming no period effect and assuming between each pair of measurements on the same subject that we have a 0.5 correlation)\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nPROC POWER  ;\n PAIREDMEANS TEST=DIFF\n NPAIRS=.\n corr=0.5\n MEANDIFF=30\n STDDEV=45\n POWER=0.8\n ;\nRUN;\n```\n:::\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](../images/sample_s_superiority/SAScrossovermeans.png){fig-align='center' width=50%}\n:::\n:::\n\n\n\n### References\n\n1.  [Sample Size Calculation Using SAS®, R, and nQuery Software, 2020 Jenna Cody, Paper 4675-2020](https://support.sas.com/resources/papers/proceedings20/4675-2020.pdf)\n2.  PROC POWER SAS online help https://support.sas.com/documentation/cdl/en/statug/63347/HTML/default/viewer.htm#statug_power_sect010.htm\n3.  PROC GLMPOWER SAS online helphttps://support.sas.com/documentation/cdl/en/statug/63347/HTML/default/viewer.htm#statug_glmpower_a0000000154.htm\n\n### Version\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.4.2 (2024-10-31 ucrt)\n os       Windows 11 x64 (build 26100)\n system   x86_64, mingw32\n ui       RTerm\n language (EN)\n collate  English_United States.utf8\n ctype    English_United States.utf8\n tz       America/Chicago\n date     2025-08-18\n pandoc   3.4 @ C:/Program Files/RStudio/resources/app/bin/quarto/bin/tools/ (via rmarkdown)\n\n─ Packages ───────────────────────────────────────────────────────────────────\n ! package              * version date (UTC) lib source\n R sample_s_superiority   <NA>    <NA>       [?] <NA>\n\n [1] C:/Users/ljohn71/Desktop/CAMIS/renv/library/windows/R-4.4/x86_64-w64-mingw32\n [2] C:/Users/ljohn71/AppData/Local/Programs/R/R-4.4.2/library\n\n R ── Package was removed from disk.\n\n─ External software ──────────────────────────────────────────────────────────\n setting value\n SAS     9.04.01M7P08062020\n\n──────────────────────────────────────────────────────────────────────────────\n```\n\n\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}