{
  "hash": "27fe3f528e11903e35414484a1f10389",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Sample Size for Non-Inferiority Trials in SAS\"\noutput: html_document\ndate: last-modified\ndate-format: D MMMM, YYYY\n---\n\n\n\n# Introduction\n\nPROC POWER^1^ can be used for sample size calculations for non-inferiority testing. See ^2^ for explanation of non-inferiority and how to perform Sample size in SAS (including comparing proportions). Below we give 2 sample size examples for the following types of studies:\n\n-   two-sample comparison of means for Non-inferiority (i.e. testing if one treatment mean is non-inferior to the another treatment mean).\n\n-   Paired-sample comparison of means (i.e. 2 treatment means recorded on 1 group of patients are equivalent within a set tolerance)\n\n# **Two Sample Non-inferiority test: Comparing means for parallel design (unpaired)**\n\nThis example is a sample size calculation for the following hypotheses: $H_0:\\mu2-\\mu1\\le -\\theta$ versus $H_1: \\mu2-\\mu1\\gt -\\theta$.\n\nA client is interested in conducting a clinical trial to compare two cholesterol lowering agents for treatment of hypercholesterolemic patients through a parallel design. The primary efficacy parameter is a low-density lipidprotein cholesterol (LDL-C). We will consider the situation where the intended trial is for testing noninferiority. For establishing it, suppose the true mean difference is 0 and the noninferiority margin is chosen to be -0.05 (-5%). Assuming SD = 0.1, how many patients are required for an 80% power and an overall significance level of 5%?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nPROC POWER  ;    \n  twosamplemeans \n  test=equiv_diff      \n  lower  = 91\n  upper  = 101  \n  meandiff=96 \n  stddev = 8\n  ntotal = .  \n  power  = 0.8\n  alpha  = 0.05;\n  RUN;\n```\n:::\n\n\n\nAs shown below, a total sample size of 102 is recommended, which equates to 51 in each group.\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](../images/sample_s_noninferiority/2_sample_parallelgroup_means.png){fig-align='center' width=50%}\n:::\n:::\n\n\n\n# **Comparing means for crossover design (paired)**\n\nHere we assume there is no carry-over effect and that the variance is known. For more information see^3^. There is no obvious way in SAS to do cross over non-inferiority, however, given the one sided test, you can half the alpha using the equiv_diff option to give you the non-inferiority sample size.\n\n## **Estimating the within patient variance and correlation.**\n\nLet's consider a standard two-sequence, two period crossover design. Suppose that the sponsor is interested in showing non-inferiority of the test drug against the reference with the non-inferiority margin -20%. Assume power of 80%. Based on the results from previous trials, it is estimated that the variance (of the difference) is 0.2 (20%). Suppose that the true mean difference is -0.1 (-10%). What is the required sample size, assuming significance level of 5%?\n\nAlpha = 0.025 is used below, instead of 0.05 because you are doing non-inferiority (a one sided test). Note that this is still the sample size for alpha=0.05. The below shows a sample size of 13 patients is required.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n   pairedmeans \n   test=equiv_diff\n      lower=-0.3\n      upper=0.1\n      meandiff   = -0.1\n      stddev=0.2\n      corr          = 0.5\n      alpha         = 0.025\n      npairs        = .\n      power         = 0.8;\n```\n:::\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](../images/sample_s_noninferiority/2_sample_crossover_means.png){fig-align='center' width=50%}\n:::\n:::\n\n\n\n### References\n\n1.  [PROC POWER SAS online help](https://support.sas.com/documentation/cdl/en/statug/63347/HTML/default/viewer.htm#statug_power_sect010.html)\n2.  [Sample Size Calculation Using SASÂ® for non-inferiority](https://support.sas.com/kb/48/616.html)\n3.  [Sample Size for Cross over non-inferiority](https://support.sas.com/documentation/cdl/en/statug/63347/HTML/default/viewer.htm#statug_power_a0000001004.htm)\n\n### Version\n\n{r}\n#| echo: false\nsi <- sessioninfo::session_info(\"sample_s_noninferiority\", dependencies = FALSE) \nsi$external <- structure(list(\"SAS\" = \"9.04.01M7P08062020\"), \n                         class = c(\"external_info\", \"list\")) \nsi\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}